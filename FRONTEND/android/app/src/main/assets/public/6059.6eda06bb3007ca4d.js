"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6059],{6059:(k,d,c)=>{c.r(d),c.d(d,{ListaSociosComponent:()=>v});var g=c(8434),e=c(3092),m=c(9417),p=c(33),o=c(1360),u=c(366);const _=()=>["/mantenedores/gestion-socios/agregar-socio"],C=i=>({"socio-inactivo":i}),h=i=>["/mantenedores/gestion-socios/detalle",i];function b(i,a){1&i&&(o.j41(0,"div",21),o.nrm(1,"ion-spinner",22),o.j41(2,"p"),o.EFF(3,"Cargando socios..."),o.k0s()())}function M(i,a){if(1&i&&(o.j41(0,"div",23)(1,"ion-text",24)(2,"p"),o.EFF(3),o.k0s()()()),2&i){const r=o.XpG();o.R7$(3),o.JRh(r.error)}}function O(i,a){if(1&i&&(o.j41(0,"p"),o.EFF(1),o.nI1(2,"date"),o.k0s()),2&i){const r=o.XpG().$implicit;o.R7$(),o.SpI("Fecha Aprobaci\xf3n: ",o.i5U(2,1,r.fechaAprobacion,"dd/MM/yyyy"),"")}}function f(i,a){if(1&i&&(o.j41(0,"ion-item",26)(1,"ion-label")(2,"h2")(3,"ion-text",27),o.EFF(4),o.k0s()(),o.j41(5,"h3"),o.EFF(6),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s(),o.j41(9,"p"),o.EFF(10),o.k0s(),o.j41(11,"p"),o.EFF(12),o.k0s(),o.j41(13,"p"),o.EFF(14),o.k0s(),o.j41(15,"p"),o.EFF(16),o.nI1(17,"date"),o.k0s(),o.DNE(18,O,3,4,"p",19),o.k0s(),o.j41(19,"ion-buttons",3)(20,"ion-button",28),o.nrm(21,"ion-icon",29),o.k0s()()()),2&i){const r=a.$implicit,n=o.XpG(2);o.Y8G("ngClass",o.eq3(14,C,!r.estado)),o.R7$(3),o.Y8G("color",r.estado?"primary":"medium"),o.R7$(),o.SpI("N\xb0 Socio: ",r.num_socio,""),o.R7$(2),o.JRh(r.nombreCompleto),o.R7$(2),o.SpI("RUT: ",n.formatearRut(r.rut,r.dvRut),""),o.R7$(2),o.SpI("Email: ",r.correo,""),o.R7$(2),o.SpI("Tel\xe9fono: ",r.telefono,""),o.R7$(2),o.SpI("Direcci\xf3n: ",r.direccion,""),o.R7$(2),o.SpI("Fecha Registro: ",o.i5U(17,11,r.fechaRegistro,"dd/MM/yyyy"),""),o.R7$(2),o.Y8G("ngIf",r.fechaAprobacion),o.R7$(2),o.Y8G("routerLink",o.eq3(16,h,r.idSocio))}}function P(i,a){if(1&i&&(o.j41(0,"ion-list"),o.DNE(1,f,22,18,"ion-item",25),o.k0s()),2&i){const r=o.XpG();o.R7$(),o.Y8G("ngForOf",r.sociosFiltrados)}}function x(i,a){1&i&&(o.j41(0,"div",30)(1,"ion-text",31)(2,"p"),o.EFF(3,"No se encontraron socios con los criterios de b\xfasqueda."),o.k0s()()())}let v=(()=>{var i;class a{constructor(n){this.sociosService=n,this.socios=[],this.sociosFiltrados=[],this.loading=!0,this.error="",this.terminoBusqueda="",this.tipoBusqueda="nombre"}ngOnInit(){this.cargarSocios()}ionViewWillEnter(){this.cargarSocios()}cargarSocios(){this.loading=!0,this.sociosService.listarTodosSocios().subscribe({next:n=>{this.socios=n,this.aplicarFiltro(),this.loading=!1},error:n=>{console.error("Error al cargar socios:",n),this.error="Error al cargar la lista de socios",this.loading=!1}})}buscar(n){var t;const s=(null==n||null===(t=n.target)||void 0===t||null===(t=t.value)||void 0===t?void 0:t.toLowerCase())||"";this.terminoBusqueda=s,this.aplicarFiltro()}cambiarTipoBusqueda(n){var t;const s=null==n||null===(t=n.detail)||void 0===t?void 0:t.value;s&&["id","rut","nombre"].includes(s)&&(this.tipoBusqueda=s,this.aplicarFiltro())}aplicarFiltro(){this.sociosFiltrados=this.terminoBusqueda?this.socios.filter(n=>{switch(this.tipoBusqueda){case"id":return n.num_socio.toString().includes(this.terminoBusqueda);case"rut":return`${n.rut}${n.dvRut}`.includes(this.terminoBusqueda);case"nombre":return n.nombreCompleto.toLowerCase().includes(this.terminoBusqueda);default:return!0}}):this.socios}formatearRut(n,t){return n?`${n}-${t}`:""}verDetalle(n){}}return(i=a).\u0275fac=function(n){return new(n||i)(o.rXU(u.W))},i.\u0275cmp=o.VBU({type:i,selectors:[["app-lista-socios"]],decls:34,vars:11,consts:[["color","secondary"],["slot","start"],["defaultHref","/mantenedores/gestion-socios","text",""],["slot","end"],[1,"ion-padding"],[1,"page-title"],[1,"container"],["size","12","size-md","6","size-lg","4",1,"add-socio-button"],[1,"menu-option-card",3,"routerLink"],[1,"ion-text-center"],["name","person-add-outline",1,"menu-icon"],[1,"search-container"],[1,"custom-searchbar",3,"ionInput","placeholder","value"],[3,"ionChange","value"],["value","nombre"],["value","rut"],["value","id"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[4,"ngIf"],["class","no-data",4,"ngIf"],[1,"loading-container"],["name","crescent"],[1,"error-container"],["color","danger"],["class","socio-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"socio-item",3,"ngClass"],[3,"color"],["color","primary",3,"routerLink"],["name","eye-outline","slot","icon-only"],[1,"no-data"],["color","medium"]],template:function(n,t){1&n&&(o.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),o.nrm(3,"ion-back-button",2),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"VecindApp"),o.k0s(),o.j41(6,"ion-buttons",3),o.nrm(7,"ion-menu-button"),o.k0s()()(),o.j41(8,"ion-content",4)(9,"h1",5),o.EFF(10,"Socios de la Junta Vecinal"),o.k0s(),o.j41(11,"div",6)(12,"ion-col",7)(13,"ion-card",8)(14,"ion-card-content",9),o.nrm(15,"ion-icon",10),o.j41(16,"p"),o.EFF(17,"Agregar Socio"),o.k0s()()()(),o.j41(18,"div",11)(19,"ion-searchbar",12),o.bIt("ionInput",function(l){return t.buscar(l)}),o.k0s(),o.j41(20,"ion-segment",13),o.bIt("ionChange",function(l){return t.cambiarTipoBusqueda(l)}),o.j41(21,"ion-segment-button",14)(22,"ion-label"),o.EFF(23,"Nombre"),o.k0s()(),o.j41(24,"ion-segment-button",15)(25,"ion-label"),o.EFF(26,"RUT"),o.k0s()(),o.j41(27,"ion-segment-button",16)(28,"ion-label"),o.EFF(29,"N\xb0 Socio"),o.k0s()()()(),o.DNE(30,b,4,0,"div",17)(31,M,4,1,"div",18)(32,P,2,1,"ion-list",19)(33,x,4,0,"div",20),o.k0s()()),2&n&&(o.R7$(8),o.xc7("--background","var(--ion-color-light)"),o.R7$(5),o.Y8G("routerLink",o.lJ4(10,_)),o.R7$(6),o.Y8G("placeholder","Buscar por "+t.tipoBusqueda)("value",t.terminoBusqueda),o.R7$(),o.Y8G("value",t.tipoBusqueda),o.R7$(10),o.Y8G("ngIf",t.loading),o.R7$(),o.Y8G("ngIf",t.error),o.R7$(),o.Y8G("ngIf",!t.loading&&!t.error),o.R7$(),o.Y8G("ngIf",!t.loading&&!t.error&&0===t.sociosFiltrados.length))},dependencies:[g.MD,g.YU,g.Sq,g.bT,g.vh,e.bv,e.Jm,e.QW,e.b_,e.I9,e.hU,e.W9,e.eU,e.iq,e.uz,e.he,e.nf,e.MC,e.S1,e.Gp,e.eP,e.w2,e.IO,e.BC,e.ai,e.Je,e.Gw,e.el,e.N7,m.YN,p.iI,p.Wk],styles:['.page-title[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:24px;font-weight:600;margin:16px 0;padding:0 16px;text-align:center}ion-card[_ngcontent-%COMP%]{margin:16px 0;border-radius:12px;box-shadow:0 4px 6px #0000001a}.socio-item[_ngcontent-%COMP%]{margin-bottom:8px;border-radius:8px;--background: #ffffff;--border-color: var(--ion-color-light-shade);--border-width: 1px;--border-style: solid;--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px;box-shadow:0 2px 4px #0000001a;transition:background-color .2s ease}.socio-item[_ngcontent-%COMP%]:hover{--background: rgba(0, 137, 123, .05)}.socio-item.socio-inactivo[_ngcontent-%COMP%]{--background: var(--ion-color-light-tint);opacity:.8;position:relative;box-shadow:none}.socio-item.socio-inactivo[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background-color:var(--ion-color-medium);border-radius:4px 0 0 4px}.socio-item.socio-inactivo[_ngcontent-%COMP%]:hover{--background: var(--ion-color-light-tint)}.socio-item[_ngcontent-%COMP%]   .socio-icon[_ngcontent-%COMP%]{font-size:32px;color:var(--ion-color-primary);margin-right:16px}.socio-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:8px}.socio-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}.socio-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:.9rem;margin:2px 0}.socio-item[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{font-size:12px;padding:4px 8px;border-radius:12px}.socio-item[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{align-self:center}.socio-item[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;height:36px}.socio-item[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.empty-icon[_ngcontent-%COMP%]{font-size:48px;color:var(--ion-color-medium);margin-bottom:16px}ion-spinner[_ngcontent-%COMP%]{margin:16px auto;width:48px;height:48px}@media (max-width: 576px){.page-title[_ngcontent-%COMP%]{font-size:20px}.socio-item[_ngcontent-%COMP%]   .socio-icon[_ngcontent-%COMP%]{font-size:24px}.socio-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:14px}.socio-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.socio-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.fecha-aprobacion[_ngcontent-%COMP%]{font-size:11px}}.container[_ngcontent-%COMP%]{padding:16px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:10px}.error-container[_ngcontent-%COMP%]{padding:16px;text-align:center;background-color:var(--ion-color-danger-tint);border-radius:8px;margin:16px 0}ion-list[_ngcontent-%COMP%]{background:transparent}ion-item[_ngcontent-%COMP%]{--background: var(--ion-color-light);--border-radius: 8px;margin-bottom:8px;--padding-start: 16px;--padding-end: 16px;--padding-top: 12px;--padding-bottom: 12px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:8px;color:var(--ion-color-primary)}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin-bottom:8px;color:var(--ion-color-dark)}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:.9rem;margin:2px 0}.no-data[_ngcontent-%COMP%]{text-align:center;padding:32px 16px}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.search-container[_ngcontent-%COMP%]{margin-bottom:16px}.search-container[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--background: #ffffff;--box-shadow: 0 2px 4px rgba(0, 0, 0, .1);--border-radius: 8px;padding:0;margin-bottom:8px}.search-container[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{margin-bottom:8px;background:transparent}.search-container[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--background: var(--ion-color-light);--background-checked: var(--ion-color-primary);--color: var(--ion-color-medium);--color-checked: var(--ion-color-light);--indicator-color: transparent}.search-container[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]::part(indicator){background:transparent}.search-container[_ngcontent-%COMP%]   .estado-toggle[_ngcontent-%COMP%]{--background: transparent;--padding-start: 8px;--min-height: 32px;margin:0}.search-container[_ngcontent-%COMP%]   .estado-toggle[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{--handle-width: 16px;--handle-height: 16px;--handle-spacing: 2px;height:20px;width:36px;padding:0;margin-right:8px}.search-container[_ngcontent-%COMP%]   .estado-toggle[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.8em;color:var(--ion-color-medium)}.add-button[_ngcontent-%COMP%]{margin-bottom:16px;--border-radius: 8px;font-weight:500}.add-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.estado-toggle[_ngcontent-%COMP%]{margin:16px;--background: transparent}.estado-toggle[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9em;color:var(--ion-color-dark)}.estado-toggle[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{--background: var(--ion-color-medium);--background-checked: var(--ion-color-primary);--handle-background: #ffffff;--handle-background-checked: #ffffff}']}),a})()}}]);
(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5560],{243:S=>{"use strict";var i={single_source_shortest_paths:function(s,r,n){var e={},o={};o[r]=0;var c,l,a,u,C,h,t=i.PriorityQueue.make();for(t.push(r,0);!t.empty();)for(a in u=(c=t.pop()).cost,C=s[l=c.value]||{})C.hasOwnProperty(a)&&(h=u+C[a],(typeof o[a]>"u"||o[a]>h)&&(o[a]=h,t.push(a,h),e[a]=l));if(typeof n<"u"&&typeof o[n]>"u"){var P=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(P)}return e},extract_shortest_path_from_predecessor_list:function(s,r){for(var n=[],e=r;e;)n.push(e),e=s[e];return n.reverse(),n},find_path:function(s,r,n){var e=i.single_source_shortest_paths(s,r,n);return i.extract_shortest_path_from_predecessor_list(e,n)},PriorityQueue:{make:function(s){var e,r=i.PriorityQueue,n={};for(e in s=s||{},r)r.hasOwnProperty(e)&&(n[e]=r[e]);return n.queue=[],n.sorter=s.sorter||r.default_sorter,n},default_sorter:function(s,r){return s.cost-r.cost},push:function(s,r){this.queue.push({value:s,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};S.exports=i},377:(S,i)=>{i.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},455:S=>{S.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},1018:(S,i,s)=>{const r=s(1677),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function e(o){this.mode=r.ALPHANUMERIC,this.data=o}e.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){let c;for(c=0;c+2<=this.data.length;c+=2){let l=45*n.indexOf(this.data[c]);l+=n.indexOf(this.data[c+1]),t.put(l,11)}this.data.length%2&&t.put(n.indexOf(this.data[c]),6)},S.exports=e},1252:(S,i,s)=>{const r=s(9089),n=s(3677),e=s(7424),o=s(1677),t=s(377),l=r.getBCHDigit(7973);function u(h,g){return o.getCharCountIndicator(h,g)+4}function C(h,g){let T=0;return h.forEach(function(P){const x=u(P.mode,g);T+=x+P.getBitsLength()}),T}i.from=function(g,T){return t.isValid(g)?parseInt(g,10):T},i.getCapacity=function(g,T,P){if(!t.isValid(g))throw new Error("Invalid QR Code version");typeof P>"u"&&(P=o.BYTE);const k=8*(r.getSymbolTotalCodewords(g)-n.getTotalCodewordsCount(g,T));if(P===o.MIXED)return k;const _=k-u(P,g);switch(P){case o.NUMERIC:return Math.floor(_/10*3);case o.ALPHANUMERIC:return Math.floor(_/11*2);case o.KANJI:return Math.floor(_/13);default:return Math.floor(_/8)}},i.getBestVersionForData=function(g,T){let P;const x=e.from(T,e.M);if(Array.isArray(g)){if(g.length>1)return function F(h,g){for(let T=1;T<=40;T++)if(C(h,T)<=i.getCapacity(T,g,o.MIXED))return T}(g,x);if(0===g.length)return 1;P=g[0]}else P=g;return function a(h,g,T){for(let P=1;P<=40;P++)if(g<=i.getCapacity(P,T,h))return P}(P.mode,P.getLength(),x)},i.getEncodedBits=function(g){if(!t.isValid(g)||g<7)throw new Error("Invalid QR Code version");let T=g<<12;for(;r.getBCHDigit(T)-l>=0;)T^=7973<<r.getBCHDigit(T)-l;return g<<12|T}},1677:(S,i,s)=>{const r=s(377),n=s(9359);i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(t,c){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?t.ccBits[0]:c<27?t.ccBits[1]:t.ccBits[2]},i.getBestModeForData=function(t){return n.testNumeric(t)?i.NUMERIC:n.testAlphanumeric(t)?i.ALPHANUMERIC:n.testKanji(t)?i.KANJI:i.BYTE},i.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},i.isValid=function(t){return t&&t.bit&&t.ccBits},i.from=function(t,c){if(i.isValid(t))return t;try{return function e(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+o)}}(t)}catch{return c}}},1744:(S,i,s)=>{const r=s(6686);i.mul=function(e,o){const t=new Uint8Array(e.length+o.length-1);for(let c=0;c<e.length;c++)for(let l=0;l<o.length;l++)t[c+l]^=r.mul(e[c],o[l]);return t},i.mod=function(e,o){let t=new Uint8Array(e);for(;t.length-o.length>=0;){const c=t[0];for(let a=0;a<o.length;a++)t[a]^=r.mul(o[a],c);let l=0;for(;l<t.length&&0===t[l];)l++;t=t.slice(l)}return t},i.generateECPolynomial=function(e){let o=new Uint8Array([1]);for(let t=0;t<e;t++)o=i.mul(o,new Uint8Array([1,r.exp(t)]));return o}},1889:(S,i,s)=>{"use strict";s.d(i,{Wi:()=>n,__:()=>r});var r=function(t){return t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE",t}(r||{}),n=function(t){return t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16",t}(n||{})},2868:(S,i,s)=>{const r=s(1677),n=s(6628),e=s(1018),o=s(4969),t=s(3264),c=s(9359),l=s(9089),a=s(243);function u(I){return unescape(encodeURIComponent(I)).length}function C(I,k,_){const R=[];let U;for(;null!==(U=I.exec(_));)R.push({data:U[0],index:U.index,mode:k,length:U[0].length});return R}function F(I){const k=C(c.NUMERIC,r.NUMERIC,I),_=C(c.ALPHANUMERIC,r.ALPHANUMERIC,I);let R,U;return l.isKanjiModeEnabled()?(R=C(c.BYTE,r.BYTE,I),U=C(c.KANJI,r.KANJI,I)):(R=C(c.BYTE_KANJI,r.BYTE,I),U=[]),k.concat(_,R,U).sort(function(p,B){return p.index-B.index}).map(function(p){return{data:p.data,mode:p.mode,length:p.length}})}function h(I,k){switch(k){case r.NUMERIC:return n.getBitsLength(I);case r.ALPHANUMERIC:return e.getBitsLength(I);case r.KANJI:return t.getBitsLength(I);case r.BYTE:return o.getBitsLength(I)}}function x(I,k){let _;const R=r.getBestModeForData(I);if(_=r.from(k,R),_!==r.BYTE&&_.bit<R.bit)throw new Error('"'+I+'" cannot be encoded with mode '+r.toString(_)+".\n Suggested mode is: "+r.toString(R));switch(_===r.KANJI&&!l.isKanjiModeEnabled()&&(_=r.BYTE),_){case r.NUMERIC:return new n(I);case r.ALPHANUMERIC:return new e(I);case r.KANJI:return new t(I);case r.BYTE:return new o(I)}}i.fromArray=function(k){return k.reduce(function(_,R){return"string"==typeof R?_.push(x(R,null)):R.data&&_.push(x(R.data,R.mode)),_},[])},i.fromString=function(k,_){const U=function T(I){const k=[];for(let _=0;_<I.length;_++){const R=I[_];switch(R.mode){case r.NUMERIC:k.push([R,{data:R.data,mode:r.ALPHANUMERIC,length:R.length},{data:R.data,mode:r.BYTE,length:R.length}]);break;case r.ALPHANUMERIC:k.push([R,{data:R.data,mode:r.BYTE,length:R.length}]);break;case r.KANJI:k.push([R,{data:R.data,mode:r.BYTE,length:u(R.data)}]);break;case r.BYTE:k.push([{data:R.data,mode:r.BYTE,length:u(R.data)}])}}return k}(F(k,l.isKanjiModeEnabled())),Q=function P(I,k){const _={},R={start:{}};let U=["start"];for(let Q=0;Q<I.length;Q++){const p=I[Q],B=[];for(let v=0;v<p.length;v++){const f=p[v],A=""+Q+v;B.push(A),_[A]={node:f,lastCount:0},R[A]={};for(let b=0;b<U.length;b++){const E=U[b];_[E]&&_[E].node.mode===f.mode?(R[E][A]=h(_[E].lastCount+f.length,f.mode)-h(_[E].lastCount,f.mode),_[E].lastCount+=f.length):(_[E]&&(_[E].lastCount=f.length),R[E][A]=h(f.length,f.mode)+4+r.getCharCountIndicator(f.mode,k))}}U=B}for(let Q=0;Q<U.length;Q++)R[U[Q]].end=0;return{map:R,table:_}}(U,_),p=a.find_path(Q.map,"start","end"),B=[];for(let v=1;v<p.length-1;v++)B.push(Q.table[p[v]].node);return i.fromArray(function g(I){return I.reduce(function(k,_){const R=k.length-1>=0?k[k.length-1]:null;return R&&R.mode===_.mode?(k[k.length-1].data+=_.data,k):(k.push(_),k)},[])}(B))},i.rawSplit=function(k){return i.fromArray(F(k,l.isKanjiModeEnabled()))}},3264:(S,i,s)=>{const r=s(1677),n=s(9089);function e(o){this.mode=r.KANJI,this.data=o}e.getBitsLength=function(t){return 13*t},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(o){let t;for(t=0;t<this.data.length;t++){let c=n.toSJIS(this.data[t]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");c-=49472}c=192*(c>>>8&255)+(255&c),o.put(c,13)}},S.exports=e},3361:(S,i)=>{i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(n,e,o){switch(n){case i.Patterns.PATTERN000:return(e+o)%2==0;case i.Patterns.PATTERN001:return e%2==0;case i.Patterns.PATTERN010:return o%3==0;case i.Patterns.PATTERN011:return(e+o)%3==0;case i.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(o/3))%2==0;case i.Patterns.PATTERN101:return e*o%2+e*o%3==0;case i.Patterns.PATTERN110:return(e*o%2+e*o%3)%2==0;case i.Patterns.PATTERN111:return(e*o%3+(e+o)%2)%2==0;default:throw new Error("bad maskPattern:"+n)}}i.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},i.from=function(e){return i.isValid(e)?parseInt(e,10):void 0},i.getPenaltyN1=function(e){const o=e.size;let t=0,c=0,l=0,a=null,u=null;for(let C=0;C<o;C++){c=l=0,a=u=null;for(let F=0;F<o;F++){let h=e.get(C,F);h===a?c++:(c>=5&&(t+=c-5+3),a=h,c=1),h=e.get(F,C),h===u?l++:(l>=5&&(t+=l-5+3),u=h,l=1)}c>=5&&(t+=c-5+3),l>=5&&(t+=l-5+3)}return t},i.getPenaltyN2=function(e){const o=e.size;let t=0;for(let c=0;c<o-1;c++)for(let l=0;l<o-1;l++){const a=e.get(c,l)+e.get(c,l+1)+e.get(c+1,l)+e.get(c+1,l+1);(4===a||0===a)&&t++}return 3*t},i.getPenaltyN3=function(e){const o=e.size;let t=0,c=0,l=0;for(let a=0;a<o;a++){c=l=0;for(let u=0;u<o;u++)c=c<<1&2047|e.get(a,u),u>=10&&(1488===c||93===c)&&t++,l=l<<1&2047|e.get(u,a),u>=10&&(1488===l||93===l)&&t++}return 40*t},i.getPenaltyN4=function(e){let o=0;const t=e.data.length;for(let l=0;l<t;l++)o+=e.data[l];return 10*Math.abs(Math.ceil(100*o/t/5)-10)},i.applyMask=function(e,o){const t=o.size;for(let c=0;c<t;c++)for(let l=0;l<t;l++)o.isReserved(l,c)||o.xor(l,c,r(e,l,c))},i.getBestMask=function(e,o){const t=Object.keys(i.Patterns).length;let c=0,l=1/0;for(let a=0;a<t;a++){o(a),i.applyMask(a,e);const u=i.getPenaltyN1(e)+i.getPenaltyN2(e)+i.getPenaltyN3(e)+i.getPenaltyN4(e);i.applyMask(a,e),u<l&&(l=u,c=a)}return c}},3677:(S,i,s)=>{const r=s(7424),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],e=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];i.getBlocksCount=function(t,c){switch(c){case r.L:return n[4*(t-1)+0];case r.M:return n[4*(t-1)+1];case r.Q:return n[4*(t-1)+2];case r.H:return n[4*(t-1)+3];default:return}},i.getTotalCodewordsCount=function(t,c){switch(c){case r.L:return e[4*(t-1)+0];case r.M:return e[4*(t-1)+1];case r.Q:return e[4*(t-1)+2];case r.H:return e[4*(t-1)+3];default:return}}},4649:(S,i,s)=>{const r=s(7077);i.render=function(t,c,l){let a=l,u=c;typeof a>"u"&&(!c||!c.getContext)&&(a=c,c=void 0),c||(u=function e(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),a=r.getOptions(a);const C=r.getImageWidth(t.modules.size,a),F=u.getContext("2d"),h=F.createImageData(C,C);return r.qrToImageData(h.data,t,a),function n(o,t,c){o.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=c,t.width=c,t.style.height=c+"px",t.style.width=c+"px"}(F,u,C),F.putImageData(h,0,0),u},i.renderToDataURL=function(t,c,l){let a=l;return typeof a>"u"&&(!c||!c.getContext)&&(a=c,c=void 0),a||(a={}),i.render(t,c,a).toDataURL(a.type||"image/png",(a.rendererOpts||{}).quality)}},4662:S=>{function i(){this.buffer=[],this.length=0}i.prototype={get:function(s){const r=Math.floor(s/8);return 1==(this.buffer[r]>>>7-s%8&1)},put:function(s,r){for(let n=0;n<r;n++)this.putBit(1==(s>>>r-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(s){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),s&&(this.buffer[r]|=128>>>this.length%8),this.length++}},S.exports=i},4969:(S,i,s)=>{const r=s(1677);function n(e){this.mode=r.BYTE,this.data="string"==typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}n.getBitsLength=function(o){return 8*o},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(let o=0,t=this.data.length;o<t;o++)e.put(this.data[o],8)},S.exports=n},5560:(S,i,s)=>{"use strict";s.r(i),s.d(i,{DetalleEventoComponent:()=>G});var r=s(467),n=s(8434),e=s(3092),o=s(33),t=s(1360),c=s(333),l=s(9484),a=s(5933),u=s(7464),C=s(1889);const F=(0,u.F3)("Filesystem",{web:()=>s.e(2937).then(s.bind(s,2937)).then(d=>new d.FilesystemWeb)}),h=(0,u.F3)("Share",{web:()=>s.e(1227).then(s.bind(s,1227)).then(d=>new d.ShareWeb)});var g=s(5032);let T=(()=>{var d;class j{constructor(y){this.platform=y}generarQR(y){return(0,r.A)(function*(){try{return yield a.dY(y,{errorCorrectionLevel:"H",margin:1,width:300,color:{dark:"#000000",light:"#ffffff"}})}catch(w){throw console.error("Error al generar c\xf3digo QR:",w),w}})()}guardarQR(y,w){return(0,r.A)(function*(){try{return yield(yield fetch(y)).blob(),(yield F.writeFile({path:`${w}.png`,data:y.split(",")[1],directory:C.__.Cache,recursive:!0})).uri}catch(L){throw console.error("Error al guardar c\xf3digo QR:",L),L}})()}compartirQR(y,w){var L=this;return(0,r.A)(function*(){try{if(L.platform.is("hybrid")){const D=yield F.writeFile({path:"codigo-qr.png",data:y.split(",")[1],directory:C.__.Cache,recursive:!0});yield h.share({title:w,text:"C\xf3digo QR del evento",files:[D.uri],dialogTitle:"Compartir c\xf3digo QR"})}else{const D=document.createElement("a");D.href=y,D.download="codigo-qr.png",D.target="_blank",document.body.appendChild(D),D.click(),document.body.removeChild(D),alert("El c\xf3digo QR se ha descargado. Puedes compartirlo manualmente desde tu dispositivo.")}}catch(D){throw console.error("Error al compartir c\xf3digo QR:",D),D}})()}}return(d=j).\u0275fac=function(y){return new(y||d)(t.KVO(g.OD))},d.\u0275prov=t.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),j})();const P=()=>["/eventos/registro-asistencia"],x=d=>["/eventos/detalle",d,"asistentes"],I=()=>["/eventos/reporte"],k=d=>({eventoId:d});function _(d,j){if(1&d){const m=t.RV6();t.j41(0,"ion-button",8),t.bIt("click",function(){t.eBV(m);const w=t.XpG();return t.Njj(w.editarEvento())}),t.nrm(1,"ion-icon",9),t.k0s()}}function R(d,j){if(1&d){const m=t.RV6();t.j41(0,"ion-button",8),t.bIt("click",function(){t.eBV(m);const w=t.XpG();return t.Njj(w.eliminarEvento())}),t.nrm(1,"ion-icon",10),t.k0s()}}function U(d,j){if(1&d&&(t.j41(0,"p")(1,"strong"),t.EFF(2,"Notas:"),t.k0s(),t.EFF(3),t.k0s()),2&d){const m=t.XpG(2);t.R7$(3),t.SpI(" ",m.evento.notas,"")}}function Q(d,j){if(1&d&&(t.j41(0,"p")(1,"strong"),t.EFF(2,"C\xf3digo QR:"),t.k0s(),t.EFF(3),t.k0s()),2&d){const m=t.XpG(2);t.R7$(3),t.SpI(" ",m.evento.codigoQr,"")}}function p(d,j){if(1&d&&(t.j41(0,"p")(1,"strong"),t.EFF(2,"C\xf3digo Num\xe9rico:"),t.k0s(),t.EFF(3),t.k0s()),2&d){const m=t.XpG(2);t.R7$(3),t.SpI(" ",m.evento.codigoNumerico,"")}}function B(d,j){if(1&d&&(t.j41(0,"ion-button",26),t.nrm(1,"ion-icon",27),t.EFF(2," Ver Asistentes "),t.k0s()),2&d){const m=t.XpG(2);t.Y8G("routerLink",t.eq3(1,x,m.evento.id))}}function v(d,j){1&d&&(t.j41(0,"div",33),t.nrm(1,"ion-spinner"),t.k0s())}function f(d,j){if(1&d&&t.nrm(0,"img",34),2&d){const m=t.XpG(3);t.Y8G("src",m.codigoQR,t.B4B)}}function A(d,j){if(1&d){const m=t.RV6();t.j41(0,"ion-card",12)(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"C\xf3digo QR del Evento"),t.k0s(),t.j41(4,"ion-card-subtitle"),t.EFF(5," Escanee este c\xf3digo para registrar su asistencia "),t.k0s()(),t.j41(6,"ion-card-content")(7,"div",28),t.DNE(8,v,2,0,"div",29)(9,f,1,1,"img",30),t.k0s(),t.j41(10,"ion-button",31),t.bIt("click",function(){t.eBV(m);const w=t.XpG(2);return t.Njj(w.compartirQR())}),t.nrm(11,"ion-icon",32),t.EFF(12," Compartir C\xf3digo QR "),t.k0s()()()}if(2&d){const m=t.XpG(2);t.R7$(8),t.Y8G("ngIf",m.generandoQR),t.R7$(),t.Y8G("ngIf",m.codigoQR&&!m.generandoQR),t.R7$(),t.Y8G("disabled",!m.codigoQR)}}function b(d,j){if(1&d){const m=t.RV6();t.j41(0,"ion-card",12)(1,"ion-card-header")(2,"ion-card-title"),t.EFF(3,"C\xf3digo Num\xe9rico del Evento"),t.k0s(),t.j41(4,"ion-card-subtitle"),t.EFF(5," Use este c\xf3digo como alternativa al QR "),t.k0s()(),t.j41(6,"ion-card-content")(7,"div",35)(8,"ion-text",36),t.EFF(9),t.k0s()(),t.j41(10,"ion-button",37),t.bIt("click",function(){t.eBV(m);const w=t.XpG(2);return t.Njj(w.copiarCodigoNumerico())}),t.nrm(11,"ion-icon",38),t.EFF(12," Copiar C\xf3digo "),t.k0s()()()}if(2&d){const m=t.XpG(2);t.R7$(9),t.JRh(m.evento.codigoNumerico)}}function E(d,j){if(1&d&&(t.j41(0,"ion-button",39),t.nrm(1,"ion-icon",40),t.EFF(2," Generar Reporte "),t.k0s()),2&d){const m=t.XpG(2);t.Y8G("routerLink",t.lJ4(2,I))("queryParams",t.eq3(3,k,m.evento.id))}}function M(d,j){if(1&d){const m=t.RV6();t.j41(0,"div",11)(1,"ion-card",12)(2,"ion-card-header")(3,"ion-card-title"),t.EFF(4),t.k0s(),t.j41(5,"ion-card-subtitle"),t.nrm(6,"ion-icon",13),t.EFF(7),t.nI1(8,"date"),t.k0s()(),t.j41(9,"ion-card-content")(10,"p")(11,"strong"),t.EFF(12,"ID:"),t.k0s(),t.EFF(13),t.k0s(),t.j41(14,"p"),t.nrm(15,"ion-icon",14),t.j41(16,"span"),t.EFF(17),t.k0s()(),t.j41(18,"p")(19,"strong"),t.EFF(20,"Directiva RUT:"),t.k0s(),t.EFF(21),t.k0s(),t.j41(22,"p")(23,"strong"),t.EFF(24,"Estado:"),t.k0s(),t.j41(25,"ion-badge",15),t.EFF(26),t.k0s()(),t.j41(27,"p")(28,"strong"),t.EFF(29,"Descripci\xf3n:"),t.k0s(),t.EFF(30),t.k0s(),t.DNE(31,U,4,1,"p",16),t.j41(32,"p")(33,"strong"),t.EFF(34,"Fecha creaci\xf3n:"),t.k0s(),t.EFF(35),t.nI1(36,"date"),t.k0s(),t.DNE(37,Q,4,1,"p",16)(38,p,4,1,"p",16),t.k0s(),t.j41(39,"ion-card-content")(40,"ion-button",17),t.bIt("click",function(){t.eBV(m);const w=t.XpG();return t.Njj(w.editarEvento())}),t.nrm(41,"ion-icon",18),t.EFF(42," Editar Evento "),t.k0s(),t.j41(43,"ion-button",19),t.bIt("click",function(){t.eBV(m);const w=t.XpG();return t.Njj(w.eliminarEvento())}),t.nrm(44,"ion-icon",20),t.EFF(45," Eliminar Evento "),t.k0s(),t.DNE(46,B,3,3,"ion-button",21),t.k0s()(),t.DNE(47,A,13,3,"ion-card",22)(48,b,13,1,"ion-card",22)(49,E,3,5,"ion-button",23),t.j41(50,"ion-button",24),t.nrm(51,"ion-icon",25),t.EFF(52," Registrar Asistencia "),t.k0s()()}if(2&d){const m=t.XpG();t.R7$(4),t.JRh(m.evento.titulo),t.R7$(3),t.Lme(" ",t.i5U(8,19,m.evento.fechaEvento,"dd/MM/yyyy")," - ",m.evento.horaEvento," "),t.R7$(6),t.SpI(" ",m.evento.id,""),t.R7$(4),t.JRh(m.evento.lugar),t.R7$(4),t.SpI(" ",m.evento.directivaRut,""),t.R7$(4),t.Y8G("color","activo"===m.evento.estado?"success":"medium"),t.R7$(),t.JRh(m.evento.estado),t.R7$(4),t.SpI(" ",m.evento.descripcion,""),t.R7$(),t.Y8G("ngIf",m.evento.notas),t.R7$(4),t.SpI(" ",t.i5U(36,22,m.evento.fechaCreacion,"dd/MM/yyyy HH:mm"),""),t.R7$(2),t.Y8G("ngIf",m.evento.codigoQr),t.R7$(),t.Y8G("ngIf",m.evento.codigoNumerico),t.R7$(5),t.Y8G("disabled",m.eliminando),t.R7$(3),t.Y8G("ngIf",m.evento.id),t.R7$(),t.Y8G("ngIf",m.evento.codigoQr),t.R7$(),t.Y8G("ngIf",m.evento.codigoNumerico),t.R7$(),t.Y8G("ngIf",m.evento.id),t.R7$(),t.Y8G("routerLink",t.lJ4(25,P))}}function N(d,j){1&d&&(t.j41(0,"div",41),t.nrm(1,"ion-spinner"),t.k0s())}let G=(()=>{var d;class j{constructor(y,w,L,D,V,$){this.route=y,this.eventosService=w,this.qrService=L,this.router=D,this.toastController=V,this.alertController=$,this.evento=null,this.cargando=!0,this.codigoQR=null,this.generandoQR=!1,this.eliminando=!1,this.usuarioRut=Number(localStorage.getItem("rut")||"0")}ngOnInit(){const y=this.route.snapshot.paramMap.get("id");y?this.eventosService.getEvento(Number(y)).subscribe({next:w=>{this.evento=w,this.cargando=!1,w.codigoQr&&this.generarQR(w.codigoQr)},error:w=>{console.error("Error al cargar el evento:",w),this.cargando=!1,this.router.navigate(["/eventos"])}}):this.router.navigate(["/eventos"])}generarQR(y){var w=this;return(0,r.A)(function*(){try{w.generandoQR=!0,w.codigoQR=yield w.qrService.generarQR(y)}catch(L){console.error("Error al generar c\xf3digo QR:",L)}finally{w.generandoQR=!1}})()}compartirQR(){var y=this;return(0,r.A)(function*(){if(y.codigoQR&&y.evento)try{yield y.qrService.compartirQR(y.codigoQR,`C\xf3digo QR - ${y.evento.titulo}`)}catch(w){console.error("Error al compartir c\xf3digo QR:",w)}})()}copiarCodigoNumerico(){var y=this;return(0,r.A)(function*(){var w;if(null!==(w=y.evento)&&void 0!==w&&w.codigoNumerico)try{yield navigator.clipboard.writeText(y.evento.codigoNumerico),(yield y.toastController.create({message:"C\xf3digo copiado al portapapeles",duration:2e3,position:"bottom"})).present()}catch(L){console.error("Error al copiar c\xf3digo:",L),(yield y.toastController.create({message:"Error al copiar el c\xf3digo",duration:2e3,position:"bottom",color:"danger"})).present()}})()}editarEvento(){this.evento&&this.router.navigate(["/eventos/editar",this.evento.id])}eliminarEvento(){var y=this;return(0,r.A)(function*(){y.evento&&(yield(yield y.alertController.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar este evento? Esta acci\xf3n no se puede deshacer.",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Eliminar",cssClass:"danger",handler:()=>{var L;y.eliminando=!0,y.eventosService.eliminarEvento(y.evento.id).subscribe({next:(L=(0,r.A)(function*(){yield(yield y.toastController.create({message:"Evento eliminado correctamente",duration:2e3,color:"success",position:"top"})).present(),y.router.navigate(["/eventos"])}),function(){return L.apply(this,arguments)}),error:function(){var L=(0,r.A)(function*(D){console.error("Error al eliminar el evento:",D),yield(yield y.toastController.create({message:"Error al eliminar el evento",duration:2e3,color:"danger",position:"top"})).present(),y.eliminando=!1});return function(V){return L.apply(this,arguments)}}()})}}]})).present())})()}}return(d=j).\u0275fac=function(y){return new(y||d)(t.rXU(c.nX),t.rXU(l.c),t.rXU(T),t.rXU(c.Ix),t.rXU(e.K_),t.rXU(e.hG))},d.\u0275cmp=t.VBU({type:d,selectors:[["app-detalle-evento"]],decls:12,vars:7,consts:[["color","secondary"],["slot","start"],["defaultHref","/eventos","text",""],["slot","end"],[3,"click",4,"ngIf"],[1,"ion-padding",3,"fullscreen"],["class","detalle-container",4,"ngIf"],["class","ion-padding ion-text-center",4,"ngIf"],[3,"click"],["name","create-outline"],["name","trash-outline"],[1,"detalle-container"],[1,"evento-card"],["name","calendar-outline"],["name","location-outline"],[3,"color"],[4,"ngIf"],["expand","block","color","primary",3,"click"],["name","create-outline","slot","start"],["expand","block","color","danger",3,"click","disabled"],["name","trash-outline","slot","start"],["expand","block","color","secondary",3,"routerLink",4,"ngIf"],["class","evento-card",4,"ngIf"],["expand","block","color","tertiary","class","ion-margin-bottom",3,"routerLink","queryParams",4,"ngIf"],["expand","block","color","primary",1,"ion-margin",3,"routerLink"],["name","qr-code-outline","slot","start"],["expand","block","color","secondary",3,"routerLink"],["name","people-outline","slot","start"],[1,"qr-container"],["class","qr-loading",4,"ngIf"],["alt","C\xf3digo QR del evento",3,"src",4,"ngIf"],["expand","block",3,"click","disabled"],["name","share-outline","slot","start"],[1,"qr-loading"],["alt","C\xf3digo QR del evento",3,"src"],[1,"codigo-numerico-container"],[1,"codigo-numerico"],["expand","block",3,"click"],["name","copy-outline","slot","start"],["expand","block","color","tertiary",1,"ion-margin-bottom",3,"routerLink","queryParams"],["name","document-text-outline","slot","start"],[1,"ion-padding","ion-text-center"]],template:function(y,w){1&y&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),t.nrm(3,"ion-back-button",2),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Detalle del Evento"),t.k0s(),t.j41(6,"ion-buttons",3),t.DNE(7,_,2,0,"ion-button",4)(8,R,2,0,"ion-button",4),t.k0s()()(),t.j41(9,"ion-content",5),t.DNE(10,M,53,26,"div",6)(11,N,2,0,"div",7),t.k0s()),2&y&&(t.R7$(7),t.Y8G("ngIf",(null==w.evento?null:w.evento.directivaRut)===w.usuarioRut),t.R7$(),t.Y8G("ngIf",(null==w.evento?null:w.evento.directivaRut)===w.usuarioRut),t.R7$(),t.xc7("--background","var(--ion-color-light)"),t.Y8G("fullscreen",!0),t.R7$(),t.Y8G("ngIf",!w.cargando&&w.evento),t.R7$(),t.Y8G("ngIf",w.cargando))},dependencies:[n.MD,n.bT,n.vh,e.bv,e.In,e.Jm,e.QW,e.b_,e.I9,e.ME,e.HW,e.tN,e.W9,e.eU,e.iq,e.w2,e.IO,e.BC,e.ai,e.el,e.N7,o.iI,o.Wk],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light);background:var(--ion-color-light)!important;height:100%;overflow-y:auto}.detalle-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px;padding:16px 8px 48px;min-height:100%}.evento-card[_ngcontent-%COMP%]{background:#fff!important;border-radius:14px;box-shadow:0 4px 16px #00000014,0 1.5px 4px #00897b14;margin-bottom:0;transition:transform .18s cubic-bezier(.4,2,.6,1),box-shadow .18s;border:1.5px solid #ffe082}ion-card-title[_ngcontent-%COMP%]{font-weight:700;color:#2c3e50;font-size:1.15em}ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:1em}ion-badge[_ngcontent-%COMP%]{font-size:1em;border-radius:8px;padding:0 10px;margin-top:8px}.qr-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px;background-color:var(--ion-color-light);border-radius:8px;margin:16px 0;padding:16px}.qr-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:280px;height:280px;object-fit:contain}.qr-loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}ion-button[_ngcontent-%COMP%]{margin:16px 0 0}.codigos-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;margin-top:2rem;padding:1rem;background:var(--ion-color-light);border-radius:8px}@media (min-width: 768px){.codigos-container[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around}}.qr-section[_ngcontent-%COMP%], .codigo-numerico-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;width:100%}.qr-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .codigo-numerico-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-dark)}.codigo-numerico-container[_ngcontent-%COMP%]{width:280px;height:100px;display:flex;align-items:center;justify-content:center;background:#fff;padding:1rem;border-radius:8px;box-shadow:0 2px 4px #0000001a}.codigo-numerico[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;letter-spacing:.5rem;color:var(--ion-color-primary)}"]}),j})()},5933:(S,i,s)=>{const n=s(455),e=s(9460),o=s(4649),t=s(6511);function c(l,a,u,C,F){const h=[].slice.call(arguments,1),g=h.length,T="function"==typeof h[g-1];if(!T&&!n())throw new Error("Callback required as last argument");if(!T){if(g<1)throw new Error("Too few arguments provided");return 1===g?(u=a,a=C=void 0):2===g&&!a.getContext&&(C=u,u=a,a=void 0),new Promise(function(P,x){try{const I=e.create(u,C);P(l(I,a,C))}catch(I){x(I)}})}if(g<2)throw new Error("Too few arguments provided");2===g?(F=u,u=a,a=C=void 0):3===g&&(a.getContext&&typeof F>"u"?(F=C,C=void 0):(F=C,C=u,u=a,a=void 0));try{const P=e.create(u,C);F(null,l(P,a,C))}catch(P){F(P)}}c.bind(null,o.render),i.dY=c.bind(null,o.renderToDataURL),c.bind(null,function(l,a,u){return t.render(l,u)})},5941:S=>{function i(s){if(!s||s<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=s,this.data=new Uint8Array(s*s),this.reservedBit=new Uint8Array(s*s)}i.prototype.set=function(s,r,n,e){const o=s*this.size+r;this.data[o]=n,e&&(this.reservedBit[o]=!0)},i.prototype.get=function(s,r){return this.data[s*this.size+r]},i.prototype.xor=function(s,r,n){this.data[s*this.size+r]^=n},i.prototype.isReserved=function(s,r){return this.reservedBit[s*this.size+r]},S.exports=i},6214:(S,i,s)=>{const r=s(9089).getSymbolSize;i.getRowColCoords=function(e){if(1===e)return[];const o=Math.floor(e/7)+2,t=r(e),c=145===t?26:2*Math.ceil((t-13)/(2*o-2)),l=[t-7];for(let a=1;a<o-1;a++)l[a]=l[a-1]-c;return l.push(6),l.reverse()},i.getPositions=function(e){const o=[],t=i.getRowColCoords(e),c=t.length;for(let l=0;l<c;l++)for(let a=0;a<c;a++)0===l&&0===a||0===l&&a===c-1||l===c-1&&0===a||o.push([t[l],t[a]]);return o}},6254:(S,i,s)=>{const r=s(9089),o=r.getBCHDigit(1335);i.getEncodedBits=function(c,l){const a=c.bit<<3|l;let u=a<<10;for(;r.getBCHDigit(u)-o>=0;)u^=1335<<r.getBCHDigit(u)-o;return 21522^(a<<10|u)}},6269:(S,i,s)=>{const r=s(9089).getSymbolSize;i.getPositions=function(o){const t=r(o);return[[0,0],[t-7,0],[0,t-7]]}},6289:(S,i,s)=>{const r=s(1744);function n(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}n.prototype.initialize=function(o){this.degree=o,this.genPoly=r.generateECPolynomial(this.degree)},n.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(o.length+this.degree);t.set(o);const c=r.mod(t,this.genPoly),l=this.degree-c.length;if(l>0){const a=new Uint8Array(this.degree);return a.set(c,l),a}return c},S.exports=n},6511:(S,i,s)=>{const r=s(7077);function n(t,c){const l=t.a/255,a=c+'="'+t.hex+'"';return l<1?a+" "+c+'-opacity="'+l.toFixed(2).slice(1)+'"':a}function e(t,c,l){let a=t+c;return typeof l<"u"&&(a+=" "+l),a}i.render=function(c,l,a){const u=r.getOptions(l),C=c.modules.size,F=c.modules.data,h=C+2*u.margin,g=u.color.light.a?"<path "+n(u.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",T="<path "+n(u.color.dark,"stroke")+' d="'+function o(t,c,l){let a="",u=0,C=!1,F=0;for(let h=0;h<t.length;h++){const g=Math.floor(h%c),T=Math.floor(h/c);!g&&!C&&(C=!0),t[h]?(F++,h>0&&g>0&&t[h-1]||(a+=C?e("M",g+l,.5+T+l):e("m",u,0),u=0,C=!1),g+1<c&&t[h+1]||(a+=e("h",F),F=0)):u++}return a}(F,C,u.margin)+'"/>',I='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+'viewBox="0 0 '+h+" "+h+'" shape-rendering="crispEdges">'+g+T+"</svg>\n";return"function"==typeof a&&a(null,I),I}},6628:(S,i,s)=>{const r=s(1677);function n(e){this.mode=r.NUMERIC,this.data=e.toString()}n.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let t,c,l;for(t=0;t+3<=this.data.length;t+=3)c=this.data.substr(t,3),l=parseInt(c,10),o.put(l,10);const a=this.data.length-t;a>0&&(c=this.data.substr(t),l=parseInt(c,10),o.put(l,3*a+1))},S.exports=n},6686:(S,i)=>{const s=new Uint8Array(512),r=new Uint8Array(256);(function(){let e=1;for(let o=0;o<255;o++)s[o]=e,r[e]=o,e<<=1,256&e&&(e^=285);for(let o=255;o<512;o++)s[o]=s[o-255]})(),i.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},i.exp=function(e){return s[e]},i.mul=function(e,o){return 0===e||0===o?0:s[r[e]+r[o]]}},7077:(S,i)=>{function s(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||5===n.length||n.length>8)throw new Error("Invalid hex color: "+r);(3===n.length||4===n.length)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),6===n.length&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+n.slice(0,6).join("")}}i.getOptions=function(n){n||(n={}),n.color||(n.color={});const o=n.width&&n.width>=21?n.width:void 0;return{width:o,scale:o?4:n.scale||4,margin:typeof n.margin>"u"||null===n.margin||n.margin<0?4:n.margin,color:{dark:s(n.color.dark||"#000000ff"),light:s(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},i.getScale=function(n,e){return e.width&&e.width>=n+2*e.margin?e.width/(n+2*e.margin):e.scale},i.getImageWidth=function(n,e){const o=i.getScale(n,e);return Math.floor((n+2*e.margin)*o)},i.qrToImageData=function(n,e,o){const t=e.modules.size,c=e.modules.data,l=i.getScale(t,o),a=Math.floor((t+2*o.margin)*l),u=o.margin*l,C=[o.color.light,o.color.dark];for(let F=0;F<a;F++)for(let h=0;h<a;h++){let g=4*(F*a+h),T=o.color.light;F>=u&&h>=u&&F<a-u&&h<a-u&&(T=C[c[Math.floor((F-u)/l)*t+Math.floor((h-u)/l)]?1:0]),n[g++]=T.r,n[g++]=T.g,n[g++]=T.b,n[g]=T.a}}},7424:(S,i)=>{i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2},i.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},i.from=function(n,e){if(i.isValid(n))return n;try{return function s(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+r)}}(n)}catch{return e}}},9089:(S,i)=>{let s;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];i.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},i.getSymbolTotalCodewords=function(e){return r[e]},i.getBCHDigit=function(n){let e=0;for(;0!==n;)e++,n>>>=1;return e},i.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');s=e},i.isKanjiModeEnabled=function(){return typeof s<"u"},i.toSJIS=function(e){return s(e)}},9359:(S,i)=>{const s="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const e="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";i.KANJI=new RegExp(n,"g"),i.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),i.BYTE=new RegExp(e,"g"),i.NUMERIC=new RegExp(s,"g"),i.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+n+"$"),t=new RegExp("^"+s+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");i.testKanji=function(a){return o.test(a)},i.testNumeric=function(a){return t.test(a)},i.testAlphanumeric=function(a){return c.test(a)}},9460:(S,i,s)=>{const r=s(9089),n=s(7424),e=s(4662),o=s(5941),t=s(6214),c=s(6269),l=s(3361),a=s(3677),u=s(6289),C=s(1252),F=s(6254),h=s(1677),g=s(2868);function k(p,B,v){const f=p.size,A=F.getEncodedBits(B,v);let b,E;for(b=0;b<15;b++)E=1==(A>>b&1),p.set(b<6?b:b<8?b+1:f-15+b,8,E,!0),p.set(8,b<8?f-b-1:b<9?15-b-1+1:15-b-1,E,!0);p.set(f-8,8,1,!0)}function Q(p,B,v,f){let A;if(Array.isArray(p))A=g.fromArray(p);else{if("string"!=typeof p)throw new Error("Invalid data");{let G=B;if(!G){const d=g.rawSplit(p);G=C.getBestVersionForData(d,v)}A=g.fromString(p,G||40)}}const b=C.getBestVersionForData(A,v);if(!b)throw new Error("The amount of data is too big to be stored in a QR Code");if(B){if(B<b)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+b+".\n")}else B=b;const E=function R(p,B,v){const f=new e;v.forEach(function(N){f.put(N.mode.bit,4),f.put(N.getLength(),h.getCharCountIndicator(N.mode,p)),N.write(f)});const E=8*(r.getSymbolTotalCodewords(p)-a.getTotalCodewordsCount(p,B));for(f.getLengthInBits()+4<=E&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(0);const M=(E-f.getLengthInBits())/8;for(let N=0;N<M;N++)f.put(N%2?17:236,8);return function U(p,B,v){const f=r.getSymbolTotalCodewords(B),b=f-a.getTotalCodewordsCount(B,v),E=a.getBlocksCount(B,v),N=E-f%E,G=Math.floor(f/E),d=Math.floor(b/E),j=d+1,m=G-d,y=new u(m);let w=0;const L=new Array(E),D=new Array(E);let V=0;const $=new Uint8Array(p.buffer);for(let z=0;z<E;z++){const J=z<N?d:j;L[z]=$.slice(w,w+J),D[z]=y.encode(L[z]),w+=J,V=Math.max(V,J)}const H=new Uint8Array(f);let O,Y,K=0;for(O=0;O<V;O++)for(Y=0;Y<E;Y++)O<L[Y].length&&(H[K++]=L[Y][O]);for(O=0;O<m;O++)for(Y=0;Y<E;Y++)H[K++]=D[Y][O];return H}(f,p,B)}(B,v,A),M=r.getSymbolSize(B),N=new o(M);return function T(p,B){const v=p.size,f=c.getPositions(B);for(let A=0;A<f.length;A++){const b=f[A][0],E=f[A][1];for(let M=-1;M<=7;M++)if(!(b+M<=-1||v<=b+M))for(let N=-1;N<=7;N++)E+N<=-1||v<=E+N||p.set(b+M,E+N,M>=0&&M<=6&&(0===N||6===N)||N>=0&&N<=6&&(0===M||6===M)||M>=2&&M<=4&&N>=2&&N<=4,!0)}}(N,B),function P(p){const B=p.size;for(let v=8;v<B-8;v++){const f=v%2==0;p.set(v,6,f,!0),p.set(6,v,f,!0)}}(N),function x(p,B){const v=t.getPositions(B);for(let f=0;f<v.length;f++){const A=v[f][0],b=v[f][1];for(let E=-2;E<=2;E++)for(let M=-2;M<=2;M++)p.set(A+E,b+M,-2===E||2===E||-2===M||2===M||0===E&&0===M,!0)}}(N,B),k(N,v,0),B>=7&&function I(p,B){const v=p.size,f=C.getEncodedBits(B);let A,b,E;for(let M=0;M<18;M++)A=Math.floor(M/3),b=M%3+v-8-3,E=1==(f>>M&1),p.set(A,b,E,!0),p.set(b,A,E,!0)}(N,B),function _(p,B){const v=p.size;let f=-1,A=v-1,b=7,E=0;for(let M=v-1;M>0;M-=2)for(6===M&&M--;;){for(let N=0;N<2;N++)if(!p.isReserved(A,M-N)){let G=!1;E<B.length&&(G=1==(B[E]>>>b&1)),p.set(A,M-N,G),b--,-1===b&&(E++,b=7)}if(A+=f,A<0||v<=A){A-=f,f=-f;break}}}(N,E),isNaN(f)&&(f=l.getBestMask(N,k.bind(null,N,v))),l.applyMask(f,N),k(N,v,f),{modules:N,version:B,errorCorrectionLevel:v,maskPattern:f,segments:A}}i.create=function(B,v){if(typeof B>"u"||""===B)throw new Error("No input text");let A,b,f=n.M;return typeof v<"u"&&(f=n.from(v.errorCorrectionLevel,n.M),A=C.from(v.version),b=l.from(v.maskPattern),v.toSJISFunc&&r.setToSJISFunction(v.toSJISFunc)),Q(B,A,f,b)}}}]);